<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="style.css">
    <script src="main.js"></script>
</head>

<body>
    <div class="content">
        <div id="search">
            <label for="">Rechercher un atome : </label>
            <input id="search-input" style="width: 300px;" type="text" placeholder="par nom, par symbole ou par numéro atomique...">
            <div id="search-result" style="display: grid;"></div>
        </div>
    </div>

    <script>
        const search = document.getElementById('search-input');
        const searchRes = document.getElementById('search-result');
        const searchResLimit = 8

        search.addEventListener('input', () => {
            searchStr = search.value.toSearch();
            if (searchStr && searchStr.length) {
                searchRes.innerHTML = ""
                let searchResults = []

                
                for(let el of elements){
                    if(el.symbol.toSearch() == searchStr || el.Z == searchStr){
                        searchResults.push(el.Z)
                    }
                }

                for(let el of elements){
                    if(el.name.toSearch().includes(searchStr) && !searchResults.includes(el.Z)){
                        searchResults.push(el.Z)
                    }
                }

                for (let i in searchResults){
                    if(i < searchResLimit){
                        let Z = searchResults[i]
                        let el = new atom (Z)
                        let res = '<div style="display : inline-grid; margin : 12px;" class="">'
                        res += '<span class="el-name">Nom : ' + el.name + '</span>'
                        res += '<span class="el-symbol">Symbole : ' + el.symbol + '</span>'
                        res += '<span class="el-z">Numéro atomique : ' + el.Z + '</span>'
                        res += '<span class="el-couches">Couches électroniques : ' + el.couchesString() + '</span>'

                        res += '</div>'

                        searchRes.innerHTML += res
                    }else{
                        break
                    }
                }
            }else{
                searchRes.innerHTML = ""
            }
        })
    </script>
</body>